<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cart — Top Life Furnitures</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <img src="logo.png" alt="Logo" class="logo-img" />
        <div>
          <div class="brand-name">Top Life Furnitures</div>
          <div class="tagline">Modern & classic furniture</div>
        </div>
      </div>
      <nav id="main-navbar">
        <a href="index.html">Home</a>
        <a href="Shop.html">Shop</a>
        <a href="cart.html">Cart</a>
        <a href="Contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="section">
      <h1>Your Cart</h1>
      <div id="cart-items"></div>
      <h2>Total: $<span id="total-price">0.00</span></h2>
    </section>

    <section class="section">
      <h2>Checkout</h2>
      <form id="checkout-form">
        <input type="text" id="name" placeholder="Full Name" required />
        <input type="tel" id="phone" placeholder="Phone Number" required />
        <input type="text" id="address" placeholder="Delivery Address" required />
        <select id="payment-method" required>
          <option value="">Select Payment Method</option>
          <option value="Cash">Cash</option>
          <option value="Mukuru">Mukuru</option>
          <option value="EcoCash">EcoCash</option>
        </select>
        <input type="text" id="reference" placeholder="Transaction Reference" required />
        <button type="submit">Place Order</button>
      </form>
    </section>
  </main>

  <footer>
    <p>© <span id="year"></span> Top Life Furnitures</p>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const cartContainer = document.getElementById("cart-items");
    const totalPriceEl = document.getElementById("total-price");

    let total = 0;
    cart.forEach(item => {
      const div = document.createElement("div");
      div.className = "cart-item";
      div.innerHTML = `
        <p><strong>${item.product}</strong> - $${item.price}</p>
        <img src="${item.image}" alt="${item.product}" width="100" />
        <hr>
      `;
      cartContainer.appendChild(div);
      total += parseFloat(item.price);
    });
    totalPriceEl.textContent = total.toFixed(2);

    document.getElementById("checkout-form").addEventListener("submit", function(e) {
      e.preventDefault();

      const name = document.getElementById("name").value;
      const phone = document.getElementById("phone").value;
      const address = document.getElementById("address").value;
      const payment_method = document.getElementById("payment-method").value;
      const reference = document.getElementById("reference").value;

      const orders = JSON.parse(localStorage.getItem("orders")) || [];
      orders.push({
        name,
        phone,
        address,
        payment_method,
        reference,
        cart,
        status: "Pending"
      });

      localStorage.setItem("orders", JSON.stringify(orders));
      localStorage.removeItem("cart");
      alert("Order placed successfully!");
      window.location.href = "dashboard.html";
    });
  </script>
</body>
        </html>
        
